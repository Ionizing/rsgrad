<!DOCTYPE HTML>
<html lang="en" class="sidebar-visible no-js rust">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title>Vibration - RSGRAD&#x27;S BOOK</title>
        <!-- Custom HTML head -->
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff" />

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">
        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">
        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->
        <!-- MathJax -->
        <script async type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    </head>
    <body>
        <!-- Provide site root to javascript -->
        <script type="text/javascript">
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "rust";
        </script>

        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script type="text/javascript">
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script type="text/javascript">
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            var html = document.querySelector('html');
            html.classList.remove('no-js')
            html.classList.remove('rust')
            html.classList.add(theme);
            html.classList.add('js');
        </script>

        <!-- Hide / unhide sidebar before it is displayed -->
        <script type="text/javascript">
            var html = document.querySelector('html');
            var sidebar = 'hidden';
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            }
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <div class="sidebar-scrollbox">
                <ol class="chapter"><li class="chapter-item expanded affix "><a href="Introduction.html">Introduction</a></li><li class="chapter-item expanded affix "><a href="Installation.html">Installation</a></li><li class="spacer"></li><li class="chapter-item expanded "><a href="Relaxation.html"><strong aria-hidden="true">1.</strong> Relaxation</a></li><li class="chapter-item expanded "><a href="DOS.html"><strong aria-hidden="true">2.</strong> Density of States</a></li><li class="chapter-item expanded "><a href="Band.html"><strong aria-hidden="true">3.</strong> Band Structure</a></li><li class="chapter-item expanded "><a href="Trajectory.html"><strong aria-hidden="true">4.</strong> Trajectory</a></li><li class="chapter-item expanded "><a href="ChgDiff.html"><strong aria-hidden="true">5.</strong> Charge Density Difference</a></li><li class="chapter-item expanded "><a href="Vibration.html" class="active"><strong aria-hidden="true">6.</strong> Vibration</a></li><li class="chapter-item expanded "><a href="Wavefunction3D.html"><strong aria-hidden="true">7.</strong> Wavefunction 3D</a></li><li class="chapter-item expanded "><a href="Wavefunction1D.html"><strong aria-hidden="true">8.</strong> Wavefunction 1D</a></li><li class="chapter-item expanded "><a href="Workfunction.html"><strong aria-hidden="true">9.</strong> Workfunction</a></li><li class="chapter-item expanded "><a href="POSCAR.html"><strong aria-hidden="true">10.</strong> POSCAR</a></li><li class="chapter-item expanded "><a href="PseudoPotential.html"><strong aria-hidden="true">11.</strong> POTCAR</a></li><li class="chapter-item expanded "><a href="TransitionDipoleMoment.html"><strong aria-hidden="true">12.</strong> Transition Dipole Moment</a></li><li class="chapter-item expanded "><a href="Gap.html"><strong aria-hidden="true">13.</strong> Gap</a></li><li class="chapter-item expanded "><a href="UnitConversion.html"><strong aria-hidden="true">14.</strong> UnitConversion</a></li><li class="chapter-item expanded "><a href="ModelNac.html"><strong aria-hidden="true">15.</strong> ModelNAC</a></li><li class="spacer"></li><li class="chapter-item expanded affix "><a href="Feedback.html">Feedback</a></li><li class="chapter-item expanded affix "><a href="Acknowledgements.html">Acknowledgements</a></li></ol>
            </div>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle"></div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
<script src="https://cdnjs.cloudflare.com/ajax/libs/plotly.js/2.12.1/plotly.min.js"></script>
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky bordered">
                    <div class="left-buttons">
                        <button id="sidebar-toggle" class="icon-button" type="button" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </button>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust (default)</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title">RSGRAD&#x27;S BOOK</h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>
                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>
                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script type="text/javascript">
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="vibration"><a class="header" href="#vibration">Vibration</a></h1>
<p>For systems enabled vibration calculation (phonon at Î“ point only), <code>rsgrad vib</code> can</p>
<ul>
<li>Print the phonon eigenvalues;</li>
<li>Save the phonon eigenvectors;</li>
<li>Modulate the ground-state according to specified modes.</li>
</ul>
<h2 id="help-message"><a class="header" href="#help-message">Help Message</a></h2>
<pre><code class="language-shell">$ rsgrad vib --help
rsgrad-vib
Tracking vibration information.

For systems enabled vibration mode calculation, this command can extract phonon eigenvalues and
phonon eigenvectors at Gamma point.

USAGE:
    rsgrad vib [OPTIONS] [--] [OUTCAR]

ARGS:
    &lt;OUTCAR&gt;
            Specify the input OUTCAR file

            [default: ./OUTCAR]

OPTIONS:
    -a, --amplitude &lt;AMPLITUDE&gt;
            Modulation amplitude coefficient, to avoid precision issue, abs(amplitude) &gt;= 0.01
            should be satisfied

            [default: 0.1]

    -c, --cartesian
            Catesian coordinate is used when writting POSCAR. Fractional coordinate is used by
            default

    -h, --help
            Print help information

    -i, --select-indices &lt;SELECT_INDICES&gt;...
            Selects the mode indices to operate.

            Step indices start from '1', if '0' is given, all the structures will be selected. Step
            indices can be negative, where negative index means counting reversely. E.g. &quot;-i -2 -1 1
            2 3&quot; means selecting the last two and first three steps.

    -l, --list
            Shows vibration modes in brief

    -m, --modulate
            Modulate the ground-state POSCAR with respect to a certern vibration frequencies

    -p, --poscar &lt;POSCAR&gt;
            Specify the input POSCAR file, the consntraints info is needed

            [default: ./POSCAR]

        --save-in &lt;SAVE_IN&gt;
            Define where the files would be saved

            [default: .]

    -x, --save-as-xsfs
            Saves each selected modes to XSF file
</code></pre>
<h2 id="example"><a class="header" href="#example">Example</a></h2>
<ul>
<li>
<p>Print the phonon eigenvalues;
<img src="./Vibration-example-list.png" alt="" /></p>
</li>
<li>
<p>Save the phonon eigenvectors;</p>
</li>
</ul>
<pre><code class="language-shell">$ rsgrad vib -i {1..3} {-3..-1} -x
[2022-07-14T18:32:49Z INFO  rsgrad::commands::vib] Parsing file &quot;./OUTCAR&quot;
[2022-07-14T18:32:49Z INFO  rsgrad::vasp_parsers::outcar] Saving mode #   1 as &quot;./mode_0001_3682.13cm-1.xsf&quot; ...
[2022-07-14T18:32:49Z INFO  rsgrad::vasp_parsers::outcar] Saving mode #   3 as &quot;./mode_0003_3679.99cm-1.xsf&quot; ...
[2022-07-14T18:32:49Z INFO  rsgrad::vasp_parsers::outcar] Saving mode #  44 as &quot;./mode_0044_0010.79cm-1_imag.xsf&quot; ...
[2022-07-14T18:32:49Z INFO  rsgrad::vasp_parsers::outcar] Saving mode #  43 as &quot;./mode_0043_0007.12cm-1_imag.xsf&quot; ...
[2022-07-14T18:32:49Z INFO  rsgrad::vasp_parsers::outcar] Saving mode #   2 as &quot;./mode_0002_3680.83cm-1.xsf&quot; ...
[2022-07-14T18:32:49Z INFO  rsgrad::vasp_parsers::outcar] Saving mode #  45 as &quot;./mode_0045_0047.20cm-1_imag.xsf&quot; ...
[2022-07-14T18:32:49Z INFO  rsgrad] Time used: 109.566967ms
</code></pre>
<p><img src="./Vibration-example-eigenvector-1.png" alt="" /></p>
<ul>
<li>Modulate the ground-state according to specified modes.</li>
</ul>
<pre><code class="language-shell">$ rsgrad vib -i {-3..-1} --modulate --amplitude 0.1
[2022-07-14T18:31:41Z INFO  rsgrad::commands::vib] Parsing file &quot;./OUTCAR&quot;
[2022-07-14T18:31:41Z INFO  rsgrad::vasp_parsers::outcar] Saving modulated POSCAR of mode #  43 with amplitude coeff 0.100 as &quot;./mode_0043_0007.12cm-1_0.100_imag.vasp&quot; ...
[2022-07-14T18:31:41Z INFO  rsgrad::vasp_parsers::outcar] Saving modulated POSCAR of mode #  44 with amplitude coeff 0.100 as &quot;./mode_0044_0010.79cm-1_0.100_imag.vasp&quot; ...
[2022-07-14T18:31:41Z INFO  rsgrad::vasp_parsers::outcar] Saving modulated POSCAR of mode #  45 with amplitude coeff 0.100 as &quot;./mode_0045_0047.20cm-1_0.100_imag.vasp&quot; ...
[2022-07-14T18:31:41Z INFO  rsgrad] Time used: 202.629805ms
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->
                            <a rel="prev" href="ChgDiff.html" class="mobile-nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                                <i class="fa fa-angle-left"></i>
                            </a>
                            <a rel="next" href="Wavefunction3D.html" class="mobile-nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                                <i class="fa fa-angle-right"></i>
                            </a>
                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">
                    <a rel="prev" href="ChgDiff.html" class="nav-chapters previous" title="Previous chapter" aria-label="Previous chapter" aria-keyshortcuts="Left">
                        <i class="fa fa-angle-left"></i>
                    </a>
                    <a rel="next" href="Wavefunction3D.html" class="nav-chapters next" title="Next chapter" aria-label="Next chapter" aria-keyshortcuts="Right">
                        <i class="fa fa-angle-right"></i>
                    </a>
            </nav>

        </div>

        <script type="text/javascript">
            window.playground_copyable = true;
        </script>
        <script src="elasticlunr.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="mark.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="searcher.js" type="text/javascript" charset="utf-8"></script>
        <script src="clipboard.min.js" type="text/javascript" charset="utf-8"></script>
        <script src="highlight.js" type="text/javascript" charset="utf-8"></script>
        <script src="book.js" type="text/javascript" charset="utf-8"></script>

        <!-- Custom JS scripts -->
    </body>
</html>
